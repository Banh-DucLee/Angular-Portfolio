<main class="container">
    <div class="text-container">
        <h1 class="title">
            {{titleText}}
            @if (isLogin) {
                <button class="modifyButton" (click)="modify()">Modifier</button>
            }
        </h1>
        <span class="separator"></span>
    </div>
    <div class="skills-container">
        <article class="lang-skills">
            <h3 class="title">{{langText}}</h3>
            <div class="lang-container">
                @for (item of skills; track $index) {
                    @if (item.category === 'language') {
                        <app-skill [skill]="item"></app-skill>
                    }
                }
            </div>
        </article>
        <article class="frameworks-skills">
            <h3 class="title">{{frameworkText}}</h3>
            <div class="lang-container">
                @for (item of skills; track $index) {
                    @if (item.category === 'framework') {
                        <app-skill [skill]="item"></app-skill>
                    }
                }
            </div>
        </article>
        <article class="tools-skills">
            <h3 class="title">{{toolText}}</h3>
            <div class="lang-container">
                @for (item of skills; track $index) {
                    @if (item.category === 'tool') {
                        <app-skill [skill]="item"></app-skill>
                    }
                }
            </div>
        </article>
    </div>
    @if (isModalOpen) {
        <app-modal>
            <h2 class="title">Modifier les compétences</h2>

            <form [formGroup]="skillForm" (ngSubmit)="onSubmit($event)">
                <div class="name-container">
                    <label for="name">Nom</label>
                    <input type="text" id="name" name="name" formControlName="name" required>
                </div>
                <div class="category-container">
                    <label for="category">Catégorie</label>
                    <select id="category" name="category" formControlName="category">
                        <option value="language">Langage</option>
                        <option value="framework">Framework</option>
                        <option value="tool">Outil</option>
                    </select>
                </div>
                <div class="image-container">
                    <label for="image">Image</label>
                    <input type="file" id="image" name="image" (change)="onFileChange($event)">
                    <span class="preview-image"></span>
                </div>
                <button type="submit">Créer</button>
            </form>
        </app-modal>
    }
</main>