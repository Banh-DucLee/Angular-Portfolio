<section id="about" class="container">
    <article class="text-container">
        <h1 class="title">
            {{titleText}}
            @if (isLogin) {
                <button class="modifyButton" (click)="isModalOpen = true">Modifier</button>
            }
        </h1>
        <span class="separator"></span>
        <div class="about-infos">
            <p class="description">{{descriptionText}}</p>
            <div class="socials-container">
                <h2 class="title">{{socialText}}</h2>
                <div class="socials">
                    @for (item of socials; track $index) {
                        <app-social [social]="item"></app-social>
                    }
                </div>
            </div>
            <button type="button" class="downloadButton">{{downloadText}}</button>
        </div>
    </article>
    <div class="image-container">
        <img src="{{about.imageUrl}}" class="image">
    </div>
    <app-modal [isOpen]="isModalOpen" (onClick)="isModalOpen = false">
        <div class="about-form">
            <h2 class="title">Modifier la description</h2>
            <form [formGroup]="aboutForm" (ngSubmit)="onSubmitAbout($event)">
                <div class="description-container">
                    <label for="text">Description</label>
                    <input type="text" id="text" formControlName="text">
                    <input type="text" id="textEnglish" formControlName="textEnglish">
                </div>
                <div class="image-container">
                    <input type="file" class="image-input" (change)="onFileAboutChange($event)">
                </div>
                <button type="submit">Modifier</button>
            </form>
        </div>
        <div class="socials-form">
            <h2 class="title">Modifier les liens</h2>
            <form [formGroup]="socialForm" (ngSubmit)="onSubmitSocial($event)">
                <div class="name-container">
                    <label for="name">Nom</label>
                    <input type="text" id="name" formControlName="name">
                </div>
                <div class="url-container">
                    <label for="url">URL</label>
                    <input type="url" id="url" formControlName="url">
                </div>
                <div class="image-container">
                    <label for="image">Image</label>
                    <input type="file" (change)="onFileSocialChange($event)">
                </div>
                <button type="submit">Ajouter</button>
            </form>
        </div>
        <div class="resume-form">
            <h2 class="title">Modifier le CV</h2>
            <label for="resume">CV</label>
            <input type="file" (change)="onFileResumeChange($event)">
            <button type="button" (click)="onSubmitResume($event)">Valider</button>
        </div>
    </app-modal>
</section>
